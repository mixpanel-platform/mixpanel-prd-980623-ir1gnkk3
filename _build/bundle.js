!function(t){function e(r){if(n[r])return n[r].exports;var a=n[r]={exports:{},id:r,loaded:!1};return t[r].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){n(16),n(17);var r=n(12)();$("body").html(r),n(5)},function(t,e,n){var r,a,o,i,s,l,c,h,d,u,p,f,v,g,m,x,w,b,L,y,M,S,C,O,B,j,k,I,E,A,T,N,P,R,G,U,F,D,K,V;a=n(7),s=n(9),o=n(8),r=n(6),i={eventCount:5,fromMoment:moment(),toMoment:moment(),startEvent:"featureinvoked",endEvent:"",superPropertyOptions:"",propertyFilters:{global:null,startEvent:null}},d=function(){return i.eventCount},I=function(t){i.eventCount=t},u=function(){return i.fromMoment},A=function(t){i.fromMoment=t},w=function(){return i.toMoment},F=function(t){i.toMoment=t},g=function(){return i.startEvent},P=function(t){i.startEvent=t},h=function(){return i.endEvent},k=function(t){i.endEvent=t},x=function(){return i.superPropertyOptions},G=function(t){i.superPropertyOptions=t},m=function(){return i.propertyFilters.startEvent},R=function(t){i.propertyFilters.startEvent=t},p=function(){return i.propertyFilters.global},T=function(t){i.propertyFilters.global=t},f=function(){return i.propertyFilters},M=function(){a.addLoadingSymbol(),E($("#start-event-select"),"--CHOOSE A START EVENT--"),y(),S(),C(),L(),c(),O(),B(),D(),b(),l()},E=function(t,e){t.MPSelect(),MP.api.topEvents().done(function(n){var r;return r=_.chain(n.values()).map(function(t){return{label:"$"===t.charAt(0)?t:t.toUpperCase(),value:t}}).value(),r.unshift({label:e,value:""}),r={items:r},t.MPSelect("initEl",r)})},N=function(t,e,n){var r;r={limit:1e4},t.MPSelect(),MP.api.propertyValues(e,n,r).done(function(e){var n;n=_.chain(e.values()).sortBy(function(t){return Number(t)&&(t=Number(t)),t}).map(function(t){return{label:t.indexOf("@")<0&&t.indexOf("http:")<0?t.toUpperCase():t,value:t}}).value(),n.unshift({label:"--SELECT A VALUE--",value:""}),n={items:n},t.MPSelect("initEl",n)})},U=function(t,e){var n;n={name:e,limit:1e4},t.MPSelect(),MP.api.query("/api/2.0/events/properties/values",n,null,function(n){var r;return n=JSON.parse(n),r=_.chain(n).map(function(t){return{label:V(e,t),value:t}}).sortBy(function(t){return Number(t.label)&&(t=Number(t.label)),t.label}).value(),r.unshift({label:"--SELECT A VALUE--",value:""}),r={items:r},t.MPSelect("initEl",r)})},y=function(){var t,e;t=$("#date-picker").MPDatepicker(),t.val({from:u().toDate(),to:w().toDate()}),e=t.find(".mixpanel-platform-date_picker"),e.addClass("mp-date-picker")},C=function(){var t;t=$(".mp-super-property-select").MPPropertySelect(),t.MPPropertySelect("setEvent",g())},S=function(){var t;t=$("#start-event-property-value-select").MPSelect(),N(t,"featureinvoked","featureid"),$("#start-event-property-value-select").on("change",function(t,e){var n,r;r=$(this).val(),n={property:"featureid",operator:"equals",value:r},R(n),v(u(),w(),d(),g(),h(),f())})},K=function(t){return"$"===t.charAt(0)&&(t=t.slice(1)),t=t.replace(/(^mp_|_)/g," "),t=t.trim(),t.toUpperCase()},V=function(t,e){return"mp_country_code"===t&&(e=r.getCountryForCountryCode(e)),e.indexOf("@")<0&&e.indexOf("http:")<0&&(e=e.toUpperCase()),e},c=function(){return $("body").on("change",".mp-event-select",function(t,e){var n,r,o,i,s;if(s=$(this).attr("id"),o=$(this).parent(),r=o.find(".mp-indicator"),"start-event-select"===s){if(g()===e)return;P(e),R(null)}if("end-event-select"===s){if(h()===e)return;k(e)}r.length?(i=o.find(".mp-property-select"),n=o.find(".filter-controls-group"),a.contractIndicator(r),i.length&&i.remove(),n.length&&n.remove()):(r=a.createIndicator(),$(this).after(r)),v(u(),w(),d(),g(),h(),f())})},b=function(){var t;t=$(".container-options-global-filter"),$(".global-filter-button").on("click",function(e){var n,r;r=$(this),r.toggleClass("inactive"),t.toggleClass("inactive"),r.addClass("button-click"),n=r.find(".global-filter-text"),r.hasClass("inactive")?n.text("APPLY GLOBAL FILTER TO PATHS"):n.text("REMOVE GLOBAL FILTER"),t.one("webkitTransitionEnd otransitionend msTransitionEnd transitionend",function(t){var e;e=$(this).find(".mp-indicator"),e.length&&e.click(),r.removeClass("button-click")})})},L=function(){$("body").on("click",".mp-indicator",function(t){var e,n,r,o,i,s,l;r=$(this).parent(),o=r.find(".mp-property-select"),e=r.find(".mp-event-select"),n=r.find(".filter-controls-group"),$(this).hasClass("expand")?(a.expandIndicator($(this)),o=a.createPropertySelectWithID("#start-event-property-select"),o.MPPropertySelect("setEvent",g()),$(this).before(o)):$(this).hasClass("contract")&&(i=r.find(".mp-super-property-select"),l=$(this).parent().attr("class").indexOf("start-event")>0,s=$(this).parent().attr("class").indexOf("global-filter")>0,a.contractIndicator($(this)),o.length&&o.remove(),n.length&&n.remove(),i.length&&(C(),$(this).remove()),l?R(null):s&&T(null),v(u(),w(),d(),g(),h(),f()))})},O=function(){$("body").on("change",".mp-property-select",function(t,e){var n,r,o,i;o=$(this).parent(),n=o.find(".filter-controls-group"),r=o.find(".mp-indicator"),n.length||(n=a.createFilterControlsGroup(),r.before(n)),i=n.find(".mp-property-value-select"),i.length&&N(i,g(),e)})},D=function(){$("body").on("change",".mp-super-property-select",function(t,e){var n,r,o,i;o=$(this).parent(),n=o.find(".filter-controls-group"),n.length||(n=a.createFilterControlsGroup(),$(this).after(n),r=a.createIndicator(),a.expandIndicator(r),o.append(r)),i=n.find(".mp-property-value-select"),i.length&&U(i,e)})},B=function(){$("body").on("change",".mp-property-value-select",function(t,e){var n,r,a,o,i,s,l,c,x,b;r=$(this).parent().parent(),l=r.attr("class").indexOf("start-event")>0,s=r.attr("class").indexOf("global-filter")>0,l?(n=r.find(".mp-event-select"),a=r.find(".mp-property-select"),o=n.val(),x=a.val(),c="equals",b=$(this).val(),i={property:x,operator:c,value:b},_.isEqual(i,m())||(R(i),v(u(),w(),d(),g(),h(),f()))):s&&(a=r.parent().find(".mp-super-property-select"),x=a.val(),c="equals",b=$(this).val(),i={property:x,operator:c,value:b},_.isEqual(i,p())||(T(i),v(u(),w(),d(),g(),h(),f())))})},l=function(){$("#date-picker").on("change",function(t,e){var n,r;n=moment(e.from),r=moment(e.to),u().isSame(n)&&w().isSame(r)||(A(n),F(r),v(u(),w(),d(),g(),h(),f()))})},v=function(t,e,n,r,i,l,c){null==c&&(c=null),_.isEmpty(r)&&_.isEmpty(i)||(a.showLoadingSymbol(),o.destroyReport(),s.getFlowsResponse(t,e,n,r,i,l,c).then(function(t){return a.hideLoadingSymbol(),o.createFlowsReport(t)})["catch"](function(t){return console.log("Failed with following error:",t)}))},j=function(t){v(u(),w(),d(),g(),h(),f(),t)},t.exports={initReport:M,runQueryWithExcludedValues:j}},function(t,e,n){function r(t,e){for(var n=0;n<t.length;n++){var r=t[n],a=p[r.id];if(a){a.refs++;for(var o=0;o<a.parts.length;o++)a.parts[o](r.parts[o]);for(;o<r.parts.length;o++)a.parts.push(c(r.parts[o],e))}else{for(var i=[],o=0;o<r.parts.length;o++)i.push(c(r.parts[o],e));p[r.id]={id:r.id,refs:1,parts:i}}}}function a(t){for(var e=[],n={},r=0;r<t.length;r++){var a=t[r],o=a[0],i=a[1],s=a[2],l=a[3],c={css:i,media:s,sourceMap:l};n[o]?n[o].parts.push(c):e.push(n[o]={id:o,parts:[c]})}return e}function o(t,e){var n=g(),r=w[w.length-1];if("top"===t.insertAt)r?r.nextSibling?n.insertBefore(e,r.nextSibling):n.appendChild(e):n.insertBefore(e,n.firstChild),w.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");n.appendChild(e)}}function i(t){t.parentNode.removeChild(t);var e=w.indexOf(t);e>=0&&w.splice(e,1)}function s(t){var e=document.createElement("style");return e.type="text/css",o(t,e),e}function l(t){var e=document.createElement("link");return e.rel="stylesheet",o(t,e),e}function c(t,e){var n,r,a;if(e.singleton){var o=x++;n=m||(m=s(e)),r=h.bind(null,n,o,!1),a=h.bind(null,n,o,!0)}else t.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=l(e),r=u.bind(null,n),a=function(){i(n),n.href&&URL.revokeObjectURL(n.href)}):(n=s(e),r=d.bind(null,n),a=function(){i(n)});return r(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;r(t=e)}else a()}}function h(t,e,n,r){var a=n?"":r.css;if(t.styleSheet)t.styleSheet.cssText=b(e,a);else{var o=document.createTextNode(a),i=t.childNodes;i[e]&&t.removeChild(i[e]),i.length?t.insertBefore(o,i[e]):t.appendChild(o)}}function d(t,e){var n=e.css,r=e.media;if(r&&t.setAttribute("media",r),t.styleSheet)t.styleSheet.cssText=n;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}function u(t,e){var n=e.css,r=e.sourceMap;r&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */");var a=new Blob([n],{type:"text/css"}),o=t.href;t.href=URL.createObjectURL(a),o&&URL.revokeObjectURL(o)}var p={},f=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},v=f(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),g=f(function(){return document.head||document.getElementsByTagName("head")[0]}),m=null,x=0,w=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=v()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var n=a(t);return r(n,e),function(t){for(var o=[],i=0;i<n.length;i++){var s=n[i],l=p[s.id];l.refs--,o.push(l)}if(t){var c=a(t);r(c,e)}for(var i=0;i<o.length;i++){var l=o[i];if(0===l.refs){for(var h=0;h<l.parts.length;h++)l.parts[h]();delete p[l.id]}}}};var b=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}()},function(t,e,n){+function(){function e(){var t=$(".modal-overlay");t.hide(),$(".advanced-controls-textbox").bind("input propertychange",function(t){var e=$(this).val(),n=$(".advanced-controls-update-button");e.length?n.prop("disabled",!1):n.prop("disabled",!0)}),$(".excluded-values-button").on("click",function(e){t.show()}),$(".advanced-controls-cancel-button").on("click",function(e){t.hide()}),$(".advanced-controls-update-button").on("click",function(e){var n=$(".advanced-controls-textbox").val();if(n.length){var a=n.split(/\s*,\s*/g);r.runQueryWithExcludedValues(a)}else r.runQueryWithExcludedValues(null);t.hide()})}var r=n(1);t.exports={advancedControlsHandler:e}}()},function(t,e){var n;Number.prototype.condensedValue||(n={TRILLION:1e12,BILLION:1e9,MILLION:1e6,THOUSAND:1e3,HUNDRED:100},Number.prototype.condensedValue=function(){var t,e,r;switch(t=function(t){var e,n;return e=t%1!==0,n=e&&t<100?t.toFixed(1):Math.floor(t)},r=this.valueOf(),e=r%1!==0,!1){case!(r>=n.TRILLION):return t(r/n.TRILLION)+"T";case!(r>=n.BILLION):return t(r/n.BILLION)+"B";case!(r>=n.MILLION):return t(r/n.MILLION)+"M";case!(r>=n.THOUSAND):return t(r/n.THOUSAND)+"K";case!(r>=n.HUNDRED):return t(r);case!(r<n.HUNDRED&&e):return this.toFixed(1);default:return this}})},function(t,e,n){var r,a;a=n(1),r=n(3),r.advancedControlsHandler(),a.initReport()},function(t,e){var n,r;n={BD:"Bangladesh",BE:"Belgium",BF:"Burkina Faso",BG:"Bulgaria",BA:"Bosnia and Herzegovina",BB:"Barbados",WF:"Wallis and Futuna",BL:"Saint-Barthélemy",BM:"Bermuda",BN:"Brunei",BO:"Bolivia",BH:"Bahrain",BI:"Burundi",BJ:"Benin",BT:"Bhutan",JM:"Jamaica",JO:"Hashemite Kingdom of Jordan",WS:"Samoa",BQ:"Bonaire, Sint Eustatius, and Saba",BR:"Brazil",BS:"Bahamas",JE:"Jersey",BY:"Belarus",BZ:"Belize","":"",RU:"Russia",RW:"Rwanda",TO:"Tonga",TL:"East Timor",RE:"Réunion",LU:"Luxembourg",LR:"Liberia",RO:"Romania",TK:"Tokelau",GW:"Guinea-Bissau",GU:"Guam",GT:"Guatemala",GS:"South Georgia and the South Sandwich Islands",GR:"Greece",GQ:"Equatorial Guinea",GP:"Guadeloupe",JP:"Japan",GY:"Guyana",GG:"Guernsey",GF:"French Guiana",GE:"Georgia",GD:"Grenada",GB:"United Kingdom",GA:"Gabon",SV:"El Salvador",GN:"Guinea",GM:"Gambia",GL:"Greenland",GI:"Gibraltar",GH:"Ghana",OM:"Oman",TN:"Tunisia",BW:"Botswana",HR:"Croatia",HT:"Haiti",HU:"Hungary",HK:"Hong Kong",HN:"Honduras",CR:"Costa Rica",VE:"Venezuela",PR:"Puerto Rico",PS:"Palestine",PW:"Palau",PT:"Portugal",KR:"Republic of Korea",PY:"Paraguay",AI:"Anguilla",SH:"Saint Helena",PF:"French Polynesia",PG:"Papua New Guinea",PE:"Peru",PK:"Pakistan",PH:"Philippines",PN:"Pitcairn Islands",A2:"Satellite Provider",PL:"Poland",PM:"Saint Pierre and Miquelon",ZM:"Zambia",EE:"Estonia",NA:"Namibia",EG:"Egypt",ZA:"South Africa",EC:"Ecuador",IT:"Italy",AO:"Angola",SB:"Solomon Islands",ET:"Ethiopia",ZW:"Zimbabwe",KY:"Cayman Islands",ES:"Spain",ER:"Eritrea",ME:"Montenegro",MD:"Republic of Moldova",MG:"Madagascar",MF:"Saint Martin",MA:"Morocco",MC:"Monaco",UZ:"Uzbekistan",MM:"Myanmar [Burma]",ML:"Mali",MO:"Macao",MN:"Mongolia",MH:"Marshall Islands",MK:"Macedonia",MU:"Mauritius",MT:"Malta",MW:"Malawi",MV:"Maldives",MQ:"Martinique",MP:"Northern Mariana Islands",MS:"Montserrat",MR:"Mauritania",IM:"Isle of Man",UG:"Uganda",UA:"Ukraine",MX:"Mexico",MZ:"Mozambique",FR:"France",AW:"Aruba",A1:"Anonymous Proxy",AX:"Åland",RS:"Serbia",FI:"Finland",FJ:"Fiji",FK:"Falkland Islands",FM:"Federated States of Micronesia",FO:"Faroe Islands",NI:"Nicaragua",NL:"Netherlands",NO:"Norway",SO:"Somalia",VU:"Vanuatu",NC:"New Caledonia",NE:"Niger",NF:"Norfolk Island",NG:"Nigeria",NZ:"New Zealand",NP:"Nepal",NR:"Nauru",NU:"Niue",CK:"Cook Islands",XK:"Kosovo",CI:"Ivory Coast",CH:"Switzerland",CO:"Colombia",CN:"China",CM:"Cameroon",CL:"Chile",CC:"Cocos [Keeling] Islands",CA:"Canada",CG:"Republic of the Congo",CF:"Central African Republic",CD:"Congo",CZ:"Czech Republic",CY:"Cyprus",CX:"Christmas Island",UY:"Uruguay",CW:"Curaçao",CV:"Cape Verde",CU:"Cuba",SZ:"Swaziland",SY:"Syria",SX:"Sint Maarten",KG:"Kyrgyzstan",KE:"Kenya",SS:"South Sudan",SR:"Suriname",KI:"Kiribati",KH:"Cambodia",KN:"Saint Kitts and Nevis",KM:"Comoros",ST:"São Tomé and Príncipe",SK:"Slovak Republic",SJ:"Svalbard and Jan Mayen",SI:"Slovenia",KP:"North Korea",KW:"Kuwait",SN:"Senegal",SM:"San Marino",SL:"Sierra Leone",SC:"Seychelles",KZ:"Kazakhstan",SA:"Saudi Arabia",SG:"Singapore",SE:"Sweden",SD:"Sudan",DO:"Dominican Republic",DM:"Dominica",DJ:"Djibouti",DK:"Denmark",VG:"British Virgin Islands",DE:"Germany",YE:"Yemen",AT:"Austria",DZ:"Algeria",US:"United States",YT:"Mayotte",UM:"U.S. Minor Outlying Islands",LB:"Lebanon",LC:"Saint Lucia",LA:"Laos",TV:"Tuvalu",TW:"Taiwan",TT:"Trinidad and Tobago",TR:"Turkey",LK:"Sri Lanka",LI:"Liechtenstein",LV:"Latvia",country_iso_code:"country_name",LT:"Republic of Lithuania",TM:"Turkmenistan",TJ:"Tajikistan",LS:"Lesotho",TH:"Thailand",TF:"French Southern Territories",TG:"Togo",TD:"Chad",TC:"Turks and Caicos Islands",LY:"Libya",VA:"Vatican City",VC:"Saint Vincent and the Grenadines",AE:"United Arab Emirates",AD:"Andorra",AG:"Antigua and Barbuda",AF:"Afghanistan",IQ:"Iraq",VI:"U.S. Virgin Islands",IS:"Iceland",IR:"Iran",AM:"Armenia",AL:"Albania",VN:"Vietnam",AN:"Netherlands Antilles",AQ:"Antarctica",AP:"Asia/Pacific Region",AS:"American Samoa",AR:"Argentina",AU:"Australia",IL:"Israel",IO:"British Indian Ocean Territory",IN:"India",TZ:"Tanzania",AZ:"Azerbaijan",IE:"Ireland",ID:"Indonesia",PA:"Panama",MY:"Malaysia",QA:"Qatar"},r=function(t){return n[t]},t.exports.getCountryForCountryCode=r},function(t,e,n){var r,a,o,i,s,l,c,h;i=function(){return $('<div class="mp-indicator expand"></div>')},s=function(t){return $('<div id="'+t+'" class="mp-select mp-property-select"></div>').MPPropertySelect()},o=function(){return $('<div class="filter-controls-group"><div class="mp-select-small">EQUALS</div><div class="mp-select mp-property-value-select"></div></div>')},l=function(t){t.length&&(t.addClass("contract"),t.removeClass("expand"))},a=function(t){t.length&&(t.addClass("expand"),t.removeClass("contract"))},r=function(){var t,e;e=n(15),t=$(".flows-chart-area"),t.append(e),$("#loading-symbol").attr("class","hidden")},h=function(){var t,e,n;t=$(".flows-chart-area"),e=$("#loading-symbol"),n=$(".banner"),n.addClass("hidden"),t.addClass("loading"),e.attr("class","")},c=function(){var t,e;t=$(".flows-chart-area"),e=$("#loading-symbol"),t.removeClass("loading"),e.attr("class","hidden")},t.exports.createIndicator=i,t.exports.createPropertySelectWithID=s,t.exports.createFilterControlsGroup=o,t.exports.expandIndicator=l,t.exports.contractIndicator=a,t.exports.addLoadingSymbol=r,t.exports.showLoadingSymbol=h,t.exports.hideLoadingSymbol=c},function(t,e,n){var r,a,o,i,s,l,c,h,d,u,p,f,v,g,m,x,w,b,L,y;n(4),a=5,s=[0,1,2,3,4],r=6,i=['<svg id="flows-chart-path-0-0-to-1-0"  width="105px" height="185px" viewBox="0 0 105 185" class="flows-chart-path flows-chart-path-stroke-0"><path d="M2.5,182.5 L2.5,12.5 L12.5,2.5 L102.5,2.5"></path></svg>','<svg id="flows-chart-path-0-0-to-1-1"  width="105px" height="105px" viewBox="0 0 100 100" class="flows-chart-path flows-chart-path-stroke-1"><path d="M2.5,102.5 L2.5,12.5 L12.5,2.5 L102.5,2.5"></path></svg>','<svg id="flows-chart-path-0-0-to-1-2"  width="85px" height="43px" viewBox="0 0 85 43" class="flows-chart-path flows-chart-path-stroke-2"><path d="M2.5,40.5 L42.5,40.5 L42.5,12.5 L52.5,2.5 L82.5,2.5"></path></svg>','<svg id="flows-chart-path-0-0-to-1-3"  width="85px" height="43px" viewBox="0 0 85 43" class="flows-chart-path flows-chart-path-stroke-3"><path d="M2.5,2.5 L42.5,2.5 L42.5,29.5 L52.5,40.5 L82.5,40.5"></path></svg>','<svg id="flows-chart-path-0-0-to-1-4"  width="105px" height="105px" viewBox="0 0 105 105" class="flows-chart-path flows-chart-path-stroke-4"><path d="M2.5,2.5 L2.5,92.5 L12.5,102.5 L102.5,102.5"></path></svg>','<svg id="flows-chart-path-0-0-to-1-5"  width="105px" height="185px" viewBox="0 0 105 185" class="flows-chart-path flows-chart-path-stroke-5"><path d="M2.5,2.5 L2.5,172.5 L12.5,182.5 L102.5,182.5"></path></svg>'],o=[['<svg id="flows-chart-path-cur-0-to-nxt-0" width="135px" height="5px" viewBox="0 0 135 5" class="flows-chart-path"><path d="M2.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-0-to-nxt-1" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,2.5 L7.5,2.5 L17.5,12.5 L17.5,67.5 L27.5,77.5 L132.5,77.5"></path></svg>','<svg id="flows-chart-path-cur-0-to-nxt-2" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,2.5 L7.5,2.5 L17.5,12.5 L17.5,142.5 L27.5,152.5 L132.5,152.5"></path></svg>','<svg id="flows-chart-path-cur-0-to-nxt-3" width="135px" height="230px" viewBox="0 0 135 230" class="flows-chart-path"><path d="M2.5,2.5 L7.5,2.5 L17.5,12.5 L17.5,217.5 L27.5,227.5 L132.5,227.5"></path></svg>','<svg id="flows-chart-path-cur-0-to-nxt-4" width="135px" height="305px" viewBox="0 0 135 305" class="flows-chart-path"><path d="M2.5,2.5 L7.5,2.5 L17.5,12.5 L17.5,292.5 L27.5,302.5 L132.5,302.5"></path></svg>','<svg id="flows-chart-path-cur-0-to-nxt-5" width="135px" height="380px" viewBox="0 0 135 380" class="flows-chart-path"><path d="M2.5,2.5 L7.5,2.5 L17.5,12.5 L17.5,367.5 L27.5,377.5 L132.5,377.5"></path></svg>'],['<svg id="flows-chart-path-cur-1-to-nxt-0" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,77.5 L27.5,77.5 L37.5,67.5 L37.5,12.5 L47.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-1-to-nxt-1" width="135px" height="5px" viewBox="0 0 135 5" class="flows-chart-path"><path d="M2.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-1-to-nxt-2" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,2.5 L27.5,2.5 L37.5,12.5 L37.5,67.5 L47.5,77.5 L132.5,77.5"></path></svg>','<svg id="flows-chart-path-cur-1-to-nxt-3" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,2.5 L27.5,2.5 L37.5,12.5 L37.5,142.5 L47.5,152.5 L132.5,152.5"></path></svg>','<svg id="flows-chart-path-cur-1-to-nxt-4" width="135px" height="230px" viewBox="0 0 135 230" class="flows-chart-path"><path d="M2.5,2.5 L27.5,2.5 L37.5,12.5 L37.5,217.5 L47.5,227.5 L132.5,227.5"></path></svg>','<svg id="flows-chart-path-cur-1-to-nxt-5" width="135px" height="305px" viewBox="0 0 135 305" class="flows-chart-path"><path d="M2.5,2.5 L27.5,2.5 L37.5,12.5 L37.5,292.5 L47.5,302.5 L132.5,302.5"></path></svg>'],['<svg id="flows-chart-path-cur-2-to-nxt-0" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,152.5 L47.5,152.5 L57.5,142.5 L57.5,12.5 L67.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-2-to-nxt-1" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,77.5 L47.5,77.5 L57.4958173,67.5 L57.4958173,12.5 L67.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-2-to-nxt-2" width="135px" height="5px" viewBox="0 0 135 5" class="flows-chart-path"><path d="M2.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-2-to-nxt-3" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,2.5 L47.5,2.5 L57.5,12.5 L57.5,67.5 L67.5,77.5 L132.5,77.5"></path></svg>','<svg id="flows-chart-path-cur-2-to-nxt-4" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,2.5 L47.5,2.5 L57.5,12.5 L57.5,142.5 L67.5,152.5 L132.5,152.5"></path></svg>','<svg id="flows-chart-path-cur-2-to-nxt-5" width="135px" height="230px" viewBox="0 0 135 230" class="flows-chart-path"><path d="M2.5,2.5 L47.5,2.5 L57.5,12.5 L57.5,217.5 L67.5,227.5 L132.5,227.5"></path></svg>'],['<svg id="flows-chart-path-cur-3-to-nxt-0" width="135px" height="230px" viewBox="0 0 135 230" class="flows-chart-path"><path d="M2.5,227.5 L67.5,227.5 L77.5,217.5 L77.5,12.5 L87.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-3-to-nxt-1" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,152.5 L67.5,152.5 L77.5,142.5 L77.5,12.5 L87.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-3-to-nxt-2" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,77.5 L67.5,77.5 L77.5,67.5 L77.5,12.5 L87.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-3-to-nxt-3" width="135px" height="5px" viewBox="0 0 135 5" class="flows-chart-path"><path d="M2.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-3-to-nxt-4" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,2.5 L67.5,2.5 L77.5,12.5 L77.5,67.5 L87.5,77.5 L132.5,77.5"></path></svg>','<svg id="flows-chart-path-cur-3-to-nxt-5" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,2.5 L67.5,2.5 L77.5,12.5 L77.5,142.5 L87.5,152.5 L132.5,152.5"></path></svg>'],['<svg id="flows-chart-path-cur-4-to-nxt-0" width="135px" height="305px" viewBox="0 0 135 305" class="flows-chart-path"><path d="M2.5,302.5 L87.5,302.5 L97.5,292.5 L97.5,12.5 L107.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-4-to-nxt-1" width="135px" height="230px" viewBox="0 0 135 230" class="flows-chart-path"><path d="M2.5,227.5 L87.5,227.5 L97.5,217.5 L97.5,12.5 L107.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-4-to-nxt-2" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,152.5 L87.5,152.5 L97.5,142.5 L97.5,12.5 L107.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-4-to-nxt-3" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,77.5 L87.5,77.5 L97.5,67.5 L97.5,12.5 L107.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-4-to-nxt-4" width="135px" height="5px" viewBox="0 0 135 5" class="flows-chart-path"><path d="M2.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-4-to-nxt-5" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,2.5 L87.5,2.5 L97.5,12.5 L97.5,67.5 L107.5,77.5 L132.5,77.5"></path></svg>'],['<svg id="flows-chart-path-cur-5-to-nxt-0" width="135px" height="380px" viewBox="0 0 135 380" class="flows-chart-path"><path d="M2.5,377.5 L107.5,377.5 L117.5,367.5 L117.5,12.5 L127.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-5-to-nxt-1" width="135px" height="305px" viewBox="0 0 135 305" class="flows-chart-path"><path d="M2.5,302.5 L107.5,302.5 L117.5,292.5 L117.5,12.5 L127.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-5-to-nxt-2" width="135px" height="230px" viewBox="0 0 135 230" class="flows-chart-path"><path d="M2.5,227.5 L107.5,227.5 L117.5,217.5 L117.5,12.5 L127.5,2.5 L131.320377,2.5"></path></svg>','<svg id="flows-chart-path-cur-5-to-nxt-3" width="135px" height="155px" viewBox="0 0 135 155" class="flows-chart-path"><path d="M2.5,152.5 L107.5,152.5 L117.5,142.5 L117.5,12.5 L127.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-5-to-nxt-4" width="135px" height="80px" viewBox="0 0 135 80" class="flows-chart-path"><path d="M2.5,77.5 L107.5,77.5 L117.5,67.5 L117.5,12.5 L127.5,2.5 L132.5,2.5"></path></svg>','<svg id="flows-chart-path-cur-5-to-nxt-5" width="135px" height="5px" viewBox="0 0 135 5" class="flows-chart-path"><path d="M2.5,2.5 L132.5,2.5"></path></svg>']],g=function(t,e,n){var r,a,o,i,s,l;for(i=[],r=t<e,a=r?e-t:t-e,o=Math.floor(a/n),l=0,s=r?t:e;l<n;)r?i.push(s):i.unshift(s),s+=o,++l;return i},u=function(t,e,n,r){var a,o,i,s;return s='<a id="flows-chart-point-n-n" class="flows-chart-point"><div class="flows-chart-point-contents flows-chart-point-effect"><svg viewBox="0 0 32 32" class="flows-chart-point-drop-off"><circle style="stroke-dasharray: 50, 100;" r="16" cx="16" cy="16" class="flows-chart-point-drop-off-percentage"></circle></svg><div class="flows-chart-point-count">141M</div><div class="flows-chart-point-name">APP OPEN</div></div></a>',o=$("<div/>").html(s),"$"!==t.charAt(0)&&(t=t.toUpperCase()),o.find("div.flows-chart-point-name").text(t),o.find("div.flows-chart-point-count").text(e.condensedValue()),r&&o.find("a.flows-chart-point").addClass("flows-chart-end-point"),i=n/e*100,i>=1&&(i=Math.floor(i)),i>0&&i<1&&(i=1),o.find("svg.flows-chart-point-drop-off circle").css("stroke-dasharray",i+" 100"),a=o.find(".flows-chart-point"),o.html()},b=function(t,e,n){var a,o,i;return o=n===r-1,a=$("<div/>").html(t),i=0===n?{top:"225px",left:"15px"}:1===n?{top:25+80*e+"px",left:"135px"}:{top:25+80*e+"px",left:135+160*(n-1)+"px"},a.find(".flows-chart-point").attr("id","flows-chart-point-"+n+"-"+e),o&&a.find(".flows-chart-point").addClass("flows-chart-max-point"),a.find(".flows-chart-point").css(i),a.html()},p=function(t){var e,n;for(null==t&&(t=6),n="",e=0;e<t;)n+=i[e++];return n},d=function(t,e,n,r){var i,s,l,c,h,d;return c=o[e][n],s=$("<div>").html(c),h={left:175+160*(t-1)+"px",top:"0px"},d=r,e===a&&(d=a),e<=n?h.top=35+5*n+80*e+"px":h.top=35+5*e+80*n+"px",i=s.find(".flows-chart-path"),i.attr("id","flows-chart-path-"+t+"-"+e+"-to-"+(t+1)+"-"+n),i.css(h),l=i.attr("class"),l+=" flows-chart-path-stroke-"+d,i.attr("class",l),s.html()},f=function(t,e,n,r){var a,o,i,s,l,c;return a=$("<div/>").html(t),c='<div class="flows-chart-point-tooltip"><div class="flows-chart-point-tooltip-contents"><div class="flows-chart-point-tooltip-item flows-chart-point-tooltip-event-name"></div><hr><div class="flows-chart-point-tooltip-item flows-chart-point-tooltip-event-count"></div><hr><div class="flows-chart-point-tooltip-item flows-chart-point-tooltip-event-exit-count"></div></div></div>',o=$("<div/>").html(c),"$"!==e.charAt(0)&&(e=e.toUpperCase()),o.find(".flows-chart-point-tooltip-event-name").text(e),i=1===n?" event":" events",o.find(".flows-chart-point-tooltip-event-count").text(n.condensedValue()+i),l=r/n*100,l>=1&&(l=Math.floor(l)),!Number.isNaN(l)&&Number.isFinite(l)||(l="--"),l>0&&l<1&&(l="<1"),s=1===r?" EXIT (":" EXITS (",o.find(".flows-chart-point-tooltip-event-exit-count").text(r.condensedValue()+s+l+"% DROPOFF)"),a.find(".flows-chart-point-contents").append(o.html()),a.html()},m=function(t){var e,n,r,o,i,l,c,h;for(h=[],n=0,r=_.filter(t,function(t){return t.source!==a}),e=Math.floor(r.length/s.length),c=o=0,i=t.length;o<i;c=++o)l=t[c],l.source===a?h.push(s[s.length-1]+1):(c%e===0&&0!==c&&(n=++n),h.push(n));return h},x=function(t){var e,n,r,o,i,l,c,h,d,u,p,f,v;for(n=_.filter(t,function(t){return t.source!==a}),v=s.length,u=_.min(n,function(t){return t.value}).value||0,d=_.max(n,function(t){return t.value}).value||0,f=[],h=g(d,u,v),r=0,i=t.length;r<i;r++)if(p=t[r],p.source===a)f.push(s[s.length-1]+1);else{for(e=0,o=0,l=h.length;o<l&&(c=h[o],!(p.value>=c));o++)++e;f.push(e)}return f},w=function(t,e){var n,r,a,o,i,s,l,c,h;for(s=a=0,o=t.length;a<o;s=++a)i=t[s],r=$(i).attr("class"),$(i).attr("class",r+" highlight"),c=null,"to"===e?c=/-to-\d+-\d+/:"from"===e&&(c=/\d+-\d+-to-/),l=$(i).attr("id").match(c).join().replace("-to-",""),n=$("#flows-chart-point-"+l),n.addClass("highlight"),h=n.data("refCount"),h&&0!==h?n.data("refCount",++h):n.data("refCount",1)},y=function(t,e){var n,r,a,o,i,s,l,c,h,d;for(l=a=0,o=t.length;a<o;l=++a)s=t[l],r=$(s).attr("class"),i=r.replace(/((\s)+highlight)|(highlight(\s)+)/,""),$(s).attr("class",i),"to"===e?h=/-to-\d+-\d+/:"from"===e&&(h=/\d+-\d+-to-/),c=$(s).attr("id").match(h).join().replace("-to-",""),n=$("#flows-chart-point-"+c),d=n.data("refCount"),n.data("refCount",--d),0!==d||n.hasClass("focus")||n.removeClass("highlight")},L=function(){var t,e,n,r,a,o,i,s,l;if(t=$("body"),t.hasClass("highlight-mode"))for(t.removeClass("highlight-mode"),n=$(".flows-chart-point.highlight"),e=$(".flows-chart-path.highlight"),n.removeClass("focus"),n.removeClass("highlight"),n.data("refCount",0),l=a=0,o=e.length;a<o;l=++a)s=e[l],r=$(s).attr("class"),i=r.replace(/((\s)+highlight)|(highlight(\s)+)/g,""),$(s).attr("class",i)},c=function(){$("button#show-all-paths-button").on("click",function(t){L()})},l=function(){return $(".flows-chart-point").on("click",function(t){var e,n,r,a,o;t.stopPropagation(),$("body").addClass("highlight-mode"),e=$(this).find(".flows-chart-point-contents"),e.addClass("button-click"),e.one("webkitAnimationEnd oanimationend msAnimationEnd animationend",function(t){return $(this).removeClass("button-click")}),a=$(this).attr("id").match(/\d+-\d+/).join(),$(this).hasClass("highlight")&&$(this).hasClass("focus")?(o=$(this).data("refCount"),null!=o&&0!==o||$(this).removeClass("highlight"),$(this).removeClass("focus"),r=$("[id*=flows-chart-path-"+a+"]"),n=$("[id*=-to-"+a+"]"),y(r,"to"),y(n,"from")):($(this).addClass("highlight"),$(this).addClass("focus"),r=$("[id*=flows-chart-path-"+a+"]"),n=$("[id*=-to-"+a+"]"),w(r,"to"),w(n,"from"))})},v=function(){var t,e;return e=$("#flows-chart-diagram"),t=$("body"),e.empty(),t.removeClass("highlight-mode")},h=function(t){var e,n,r,a,o,i,s,h,v,g,m,w,L,y,M,S,C,O,B,j,k,I,E,A,T,N,P,R,_;if(o=$("#flows-chart-diagram"),e=$(".banner"),T="",N="",k="",B="",R=t[0],null==R)return n=e.find(".banner-icon"),a=e.find(".banner-title"),r=e.find(".banner-message"),n.removeClass("banner-icon-get-started"),n.addClass("banner-icon-no-results"),a.text("NO RESULTS"),r.text("Please try your request with different parameters"),e.removeClass("hidden"),void o.empty();for(S=R.length,i=v=0,L=R.length;v<L;i=++v)if(P=R[i],0===i)h=P.nodes[i],N=u(h.name,h.value,h.exit,!1),N=b(N,0,0),N=f(N,h.name,h.value,h.exit),T=p(P.links.length);else{for(s=i===S-1,I=P.nodes,A=m=0,y=I.length;m<y;A=++m)h=I[A],"Other"===h.name&&(h.name="Other ("+P.other.condensedValue()+" events)"),j=u(h.name,h.value,h.exit,s),j=b(j,A,i),j=f(j,h.name,h.value,h.exit),k=j+k;for(_=x(P.links),E=P.links,g=w=0,M=E.length;w<M;g=++w)O=E[g],C=d(i,O.source,O.target,_[g]),B+=C}o.prepend(B),o.prepend(k),o.prepend(T),o.prepend(N),l(),c()},t.exports.destroyReport=v,t.exports.createFlowsReport=h},function(t,e,n){var r,a;r={script:""},a=function(t,e,a,o,i,s,l){var c,h,d,u,p;return null!=r.script&&0!==r.script.length||(u=n(14),r.script=$.trim(u)),c=t.format("YYYY-MM-DD"),p=e.format("YYYY-MM-DD"),d={start_event:s.startEvent,global:s.global},h={from_date:c,to_date:p,event_count:a,session_length:864e5,start_event:o,property_filters:d,excluded:l},Promise.resolve(MP.api.jql(r.script,h))},t.exports.getFlowsResponse=a},function(t,e,n){e=t.exports=n(11)(),e.push([t.id,"/*! normalize.css v3.0.3 | MIT License | github.com/necolas/normalize.css */html{font-family:sans-serif;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}article,aside,details,figcaption,figure,footer,header,hgroup,main,menu,nav,section,summary{display:block}audio,canvas,progress,video{display:inline-block;vertical-align:baseline}audio:not([controls]){display:none;height:0}[hidden],template{display:none}a{background-color:transparent}a:active,a:hover{outline:0}abbr[title]{border-bottom:1px dotted}b,strong{font-weight:700}dfn{font-style:italic}h1{font-size:2em;margin:.67em 0}mark{background:#ff0;color:#000}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sup{top:-.5em}sub{bottom:-.25em}img{border:0}svg:not(:root){overflow:hidden}figure{margin:1em 40px}hr{box-sizing:content-box;height:0}pre{overflow:auto}code,kbd,pre,samp{font-family:monospace,monospace;font-size:1em}button,input,optgroup,select,textarea{color:inherit;font:inherit;margin:0}button{overflow:visible}button,select{text-transform:none}button,html input[type=button],input[type=reset],input[type=submit]{-webkit-appearance:button;cursor:pointer}button[disabled],html input[disabled]{cursor:default}button::-moz-focus-inner,input::-moz-focus-inner{border:0;padding:0}input{line-height:normal}input[type=checkbox],input[type=radio]{box-sizing:border-box;padding:0}input[type=number]::-webkit-inner-spin-button,input[type=number]::-webkit-outer-spin-button{height:auto}input[type=search]{-webkit-appearance:textfield;box-sizing:content-box}input[type=search]::-webkit-search-cancel-button,input[type=search]::-webkit-search-decoration{-webkit-appearance:none}fieldset{border:1px solid silver;margin:0 2px;padding:.35em .625em .75em}legend{border:0;padding:0}textarea{overflow:auto}optgroup{font-weight:700}table{border-collapse:collapse;border-spacing:0}td,th{padding:0}",""]);
},function(t,e){t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var n=this[e];n[2]?t.push("@media "+n[2]+"{"+n[1]+"}"):t.push(n[1])}return t.join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},a=0;a<this.length;a++){var o=this[a][0];"number"==typeof o&&(r[o]=!0)}for(a=0;a<e.length;a++){var i=e[a];"number"==typeof i[0]&&r[i[0]]||(n&&!i[2]?i[2]=n:n&&(i[2]="("+i[2]+") and ("+n+")"),t.push(i))}},t}},function(t,e,n){n(13);t.exports=function(t){var e=[];return e.push('<div class="container-report clearfix"><div id="options" class="container-section"><div class="container-options-start-event"><div id="start-event-property-value-select" class="mp-select mp-property-value-select"></div><button class="excluded-values-button"></button></div><div class="container-options-global-filter inactive"><div class="container-controls-global-filter"> <div class="mp-select mp-super-property-select"></div></div><div class="global-filter-help"><div class="global-filter-help-tooltip">Each event must include the selected property/value pair to count as a conversion</div></div></div><div class="global-filter-button inactive"><div class="globe-icon"></div><div class="global-filter-text">APPLY GLOBAL FILTER TO PATHS</div></div><div class="global-filter-covers"><div class="global-filter-cover-1"></div><div class="global-filter-cover-2"></div></div></div><div id="common-user-flows" class="container-section"><div id="flows-chart" class="container-chart"><div class="container-chart-header"><div id="flows-chart-header" class="clearfix"><div id="date-picker" class="pull-left"></div></div><button id="show-all-paths-button">SHOW ALL PATHS</button><div class="chart-title-shadow"></div></div><div class="flows-chart-area"><div class="banner"><div class="banner-icon banner-icon-get-started"></div><div class="banner-title">FLOWS</div><div class="banner-message">Please choose a start event to retrieve results.</div></div><div id="flows-chart-diagram-container"><div id="flows-chart-diagram"></div></div></div></div></div></div><div class="modal-overlay"><div class="advanced-controls"><input type="text" placeholder="Enter a comma-separated list of property values to exclude" class="advanced-controls-textbox"><button type="button" disabled class="advanced-controls-button advanced-controls-update-button">UPDATE EXCLUDED VALUES</button><button type="button" class="advanced-controls-button advanced-controls-cancel-button">CANCEL</button></div></div>'),e.join("")}},function(t,e,n){"use strict";function r(t){return null!=t&&""!==t}function a(t){return(Array.isArray(t)?t.map(a):t&&"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}):[t]).filter(r).join(" ")}function o(t){return s[t]||t}function i(t){var e=String(t).replace(l,o);return e===""+t?t:e}e.merge=function c(t,e){if(1===arguments.length){for(var n=t[0],a=1;a<t.length;a++)n=c(n,t[a]);return n}var o=t["class"],i=e["class"];(o||i)&&(o=o||[],i=i||[],Array.isArray(o)||(o=[o]),Array.isArray(i)||(i=[i]),t["class"]=o.concat(i).filter(r));for(var s in e)"class"!=s&&(t[s]=e[s]);return t},e.joinClasses=a,e.cls=function(t,n){for(var r=[],o=0;o<t.length;o++)n&&n[o]?r.push(e.escape(a([t[o]]))):r.push(a(t[o]));var i=a(r);return i.length?' class="'+i+'"':""},e.style=function(t){return t&&"object"==typeof t?Object.keys(t).map(function(e){return e+":"+t[e]}).join(";"):t},e.attr=function(t,n,r,a){return"style"===t&&(n=e.style(n)),"boolean"==typeof n||null==n?n?" "+(a?t:t+'="'+t+'"'):"":0==t.indexOf("data")&&"string"!=typeof n?(JSON.stringify(n).indexOf("&")!==-1&&console.warn("Since Jade 2.0.0, ampersands (`&`) in data attributes will be escaped to `&amp;`"),n&&"function"==typeof n.toISOString&&console.warn("Jade will eliminate the double quotes around dates in ISO form after 2.0.0")," "+t+"='"+JSON.stringify(n).replace(/'/g,"&apos;")+"'"):r?(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+e.escape(n)+'"'):(n&&"function"==typeof n.toISOString&&console.warn("Jade will stringify dates in ISO form after 2.0.0")," "+t+'="'+n+'"')},e.attrs=function(t,n){var r=[],o=Object.keys(t);if(o.length)for(var i=0;i<o.length;++i){var s=o[i],l=t[s];"class"==s?(l=a(l))&&r.push(" "+s+'="'+l+'"'):r.push(e.attr(s,l,!1,n))}return r.join("")};var s={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;"},l=/[&<>"]/g;e.escape=i,e.rethrow=function h(t,e,r,a){if(!(t instanceof Error))throw t;if(!("undefined"==typeof window&&e||a))throw t.message+=" on line "+r,t;try{a=a||n(18).readFileSync(e,"utf8")}catch(o){h(t,null,r)}var i=3,s=a.split("\n"),l=Math.max(r-i,0),c=Math.min(s.length,r+i),i=s.slice(l,c).map(function(t,e){var n=e+l+1;return(n==r?"  > ":"    ")+n+"| "+t}).join("\n");throw t.path=e,t.message=(e||"Jade")+":"+r+"\n"+i+"\n\n"+t.message,t},e.DebugItem=function(t,e){this.lineno=t,this.filename=e}},function(t,e){t.exports="function nodeSort(obj){\r\n  return Object.keys(obj).sort(function(a,b){return obj[b]['value']-obj[a]['value'];});\r\n}\r\n\r\nfunction steps(flows) {\r\n        var obj = {};\r\n        _.each(flows, function(flow, flowIdx){\r\n          _.each(flow, function(event,eventIdx){\r\n            obj[eventIdx] = obj[eventIdx] || {};\r\n            var current = event;\r\n            var next = flow[eventIdx + 1] || 'Exit';\r\n            obj[eventIdx][current] = obj[eventIdx][current] || {};\r\n            obj[eventIdx][current][next] = obj[eventIdx][current][next]  + 1 || 1;\r\n          });\r\n        });\r\n        return obj;\r\n}\r\n\r\nfunction filters(event, filter){\r\n    if (filter == null || event.properties[filter.property] === filter.value || filter.property === undefined) {\r\n      return true;\r\n    }\r\n  return false;\r\n}\r\n\r\nfunction createState(state, events) {\r\n        state = state || {\r\n            journey: [],\r\n            journeys: [],\r\n            in_journey: false,\r\n            journey_start: 0\r\n        };\r\n       _.each(events, function(event){\r\n          if (filters(event, params.property_filters.global) && !_.contains(params.excluded, event.properties.featureid)) {\r\n            var name = _.clone(event.properties.featureid).split('::')[0];\r\n            // If I meet the start events criteria\r\n            // Push my list of current events to my journeys\r\n            // add the new event to my current journey\r\n            if (filters(event, params.property_filters.start_event)) {\r\n              state.in_journey = true;\r\n              state.journey_start = event.time;\r\n              if (state.journey.length > 0) {\r\n                state.journeys.push(_.clone(state.journey));\r\n                state.journey = [];\r\n              }\r\n              state.journey.push(name);\r\n            } else if (state.in_journey) {\r\n              if (name == params.end_event) {\r\n                    state.journey.push(name);\r\n                    state.journeys.push(state.journey);\r\n                    state.journey = [];\r\n                    state.in_journey = false;\r\n              } else if (state.journey.length > params.event_count || state.journey_start + params.session_length < event.time ) {\r\n                  state.journeys.push(state.journey);\r\n                  state.journey = [];\r\n                  state.in_journey = false;\r\n                } else {\r\n                  state.journey.push(name);\r\n                }\r\n            }\r\n          }\r\n        });\r\n        return state;\r\n    }\r\n\r\nfunction flows(steps){\r\n  var results = [];\r\n  _.each(steps, function(sourceObjs, step){\r\n    var nodes = {};\r\n    var links = [];\r\n    var otherObj = { value: 0, exit: 0 };\r\n    var otherCount = 0;\r\n    var targets = {};\r\n    var linkObj = {};\r\n    _.each(sourceObjs, function(targetsObjs, source){\r\n      nodes[source] = nodes[source] || { exit: 0, value: 0 };\r\n      _.each(targetsObjs, function(val, target){\r\n        targets[target] = targets[target] || { value: 0 };\r\n        linkObj[source] = linkObj[source] || {};\r\n        if (target === 'Exit') {\r\n          nodes[source]['exit'] += val;\r\n        }\r\n        nodes[source]['value'] += val;\r\n        if (target !== 'Exit') {\r\n          targets[target]['value'] += val;\r\n          linkObj[source][target] = val;\r\n        }\r\n      })\r\n    })\r\n    var sortedTargets = nodeSort(targets);\r\n    var otherTargetList = sortedTargets.slice(5);\r\n    var otherTargets = new Set(otherTargetList);\r\n    var sorted = nodeSort(nodes);\r\n    var otherNodes = sorted.slice(5);\r\n\r\n    // Modify our source to Other\r\n    // Keep a list of all other SRC all other Trg\r\n    // for each link merge\r\n\r\n    _.each(otherNodes, function(name){\r\n        otherObj['value'] += nodes[name]['value'];\r\n        otherObj['exit'] += nodes[name]['exit'];\r\n        linkObj['Other'] = linkObj['Other'] || {};\r\n        _.each(linkObj[name], function(val, target){\r\n          linkObj['Other'][target] = linkObj['Other'][target] + val || val;\r\n        });\r\n        otherCount += 1;\r\n        delete linkObj[name];\r\n        delete nodes[name];\r\n    });\r\n\r\n    _.each(linkObj, function(obj, src){\r\n      _.each(obj, function(val, target){\r\n        if (otherTargets.has(target)){\r\n          linkObj[src]['Other'] = linkObj[src]['Other'] + val || val;\r\n          delete linkObj[src][target];\r\n        }\r\n      });\r\n    });\r\n\r\n    _.each(linkObj, function(obj, src){\r\n      _.each(obj, function(val, target){\r\n        links.push({source: src, target: target, value: val});\r\n      });\r\n    });\r\n\r\n    var nodeList = [];\r\n    _.each(nodes, function(obj, src){\r\n      nodeList.push({name: src, value:obj.value, exit:obj.exit});\r\n    });\r\n\r\n    nodeList = nodeList.sort(function(a, b) { return b.value - a.value; });\r\n    if(otherObj['value'] || otherObj['exit']) {\r\n      nodeList.push({name: 'Other', value: otherObj.value, exit:otherObj.exit});\r\n    }\r\n    nodeKeys = nodeList.map(function(item){ return item.name; });\r\n    sortedTargets = sortedTargets.slice(0,5);\r\n    sortedTargets.push('Other');\r\n\r\n    _.each(links, function(link){\r\n      link.source = nodeKeys.indexOf(link.source);\r\n      link.target = sortedTargets.indexOf(link.target);\r\n    });\r\n\r\n    results.push({\r\n      'otherNodes': otherNodes,\r\n      'nodes' : nodeList,\r\n      'links' : links.sort(function(a, b) { return b.value - a.value; }),\r\n      'other' : otherCount,\r\n    });\r\n  });\r\n  return results;\r\n}\r\n\r\n function main() {\r\n          return Events({from_date: params.from_date, to_date: params.to_date, event_selectors:[{event:'featureinvoked'}]})\r\n          .groupByUser(createState)\r\n          .map(function(item){\r\n            if (item.value.journey.length > 0){\r\n              item.value.journeys.push(item.value.journey);\r\n            }\r\n            return item;\r\n          })\r\n          .filter(function(item) {\r\n              return item.value.journeys.length;\r\n          })\r\n          .map(function(item){\r\n            return item.value.journeys;\r\n          })\r\n          .map(steps)\r\n          .reduce(mixpanel.reducer.object_merge())\r\n          .map(flows)\r\n}\r\n"},function(t,e){t.exports='<svg id="loading-symbol" width="104px" height="104px" viewBox="0 0 104 104" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n  <defs>\n    <filter x="-50%" y="-50%" width="200%" height="200%" filterUnits="objectBoundingBox" id="filter-shadow">\n      <feOffset dx="0" dy="1" in="SourceAlpha" result="shadowOffsetOuter1"></feOffset>\n      <feGaussianBlur stdDeviation="1" in="shadowOffsetOuter1" result="shadowBlurOuter1"></feGaussianBlur>\n      <feColorMatrix values="0 0 0 0 0   0 0 0 0 0   0 0 0 0 0  0 0 0 0.14 0" in="shadowBlurOuter1" type="matrix" result="shadowMatrixOuter1"></feColorMatrix>\n      <feMerge>\n        <feMergeNode in="shadowMatrixOuter1"></feMergeNode>\n        <feMergeNode in="SourceGraphic"></feMergeNode>\n      </feMerge>\n    </filter>\n  </defs>\n  <g id="loading-group" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">\n    <g id="loading-screen-group" transform="translate(-440.000000, -462.000000)">\n      <g id="loading-symbol-group" transform="translate(440.000000, 462.000000)">\n        <circle id="loading-circle" fill="#FFFFFF" filter="url(#filter-shadow)" cx="50" cy="50" r="50"></circle>\n        <g id="loading-mp-circles-group" transform="translate(20.000000, 42.000000)" fill="#53A2EB">\n          <circle id="loading-mp-circle-1" cx="7.58823529" cy="7.58823529" r="7.58823529"></circle>\n          <circle id="loading-mp-circle-2" cx="34.9764706" cy="7.65882353" r="5.36470588"></circle>\n          <circle id="loading-mp-circle-3" cx="57.5647059" cy="7.65882353" r="2.43529412"></circle>\n        </g>\n      </g>\n    </g>\n  </g>\n</svg>\n  \n'},function(t,e,n){var r=n(10);"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},function(t,e,n){var r=n(!function(){var t=new Error('Cannot find module "!!./../../node_modules/css-loader/index.js!./../../node_modules/stylus-loader/index.js!./app.styl"');throw t.code="MODULE_NOT_FOUND",t}());"string"==typeof r&&(r=[[t.id,r,""]]);n(2)(r,{});r.locals&&(t.exports=r.locals)},function(t,e){}]);